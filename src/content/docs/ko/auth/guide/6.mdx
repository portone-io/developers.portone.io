---
emoji: ğŸ›¬
title: 6. ê²°ì œì™„ë£Œ ì²˜ë¦¬í•˜ê¸°
description: ê²°ì œê°€ ì™„ë£Œë˜ë©´ ì‚¬ìš©ìì—ê²Œ ê²°ì œ ì‹¤íŒ¨ ìœ ë¬´ ë©”ì„¸ì§€ë¥¼ ì‘ì„±í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.
---

import * as prose from "~/components/prose";
export const components = prose;

import Hint from "~/components/gitbook/Hint.astro";
import Tabs from "~/components/gitbook/tabs/Tabs.astro";
import Tab from "~/components/gitbook/tabs/Tab.astro";


**Iframe** ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ PCí™˜ê²½ ê²°ì œì¸ ê²½ìš° ê²°ì œì‘ë‹µì€ **callback** í•¨ìˆ˜ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆìœ¼ë©° ê°€ë§¹ì  ì„œë²„ì—ì„œ ê²°ì œê²°ê³¼ ì²˜ë¦¬ê°€ ìµœì¢…ì ìœ¼ë¡œ ì™„ë£Œë˜ë©´ ì•„ë˜ ì˜ˆì œì²˜ëŸ¼ ê²°ì œ ì„±ê³µìœ ë¬´ì— ë”°ë¥¸ ë¶„ê¸°ë¥¼ í†µí•´ ê²°ê³¼ ë©”ì„¸ì§€ ì²˜ë¦¬ë¥¼ ì§„í–‰ í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Tabs>
<Tab title="JavaScript">
```javascript
IMP.request_pay(
  {/* ê²°ì œ ìš”ì²­ ê°ì²´ */},
  async requestPayResponse => {
    const { success, error_msg } = requestPayResponse;
    if (!success) {
      alert(`ê²°ì œì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤. ì—ëŸ¬ ë‚´ìš©: ${error_msg}`);
      return;
    }
    // ì´ì „ ë‹¨ê³„ì—ì„œ êµ¬í˜„í•œ ê²°ì œì •ë³´ ì‚¬í›„ ê²€ì¦ API í˜¸ì¶œ
    const res = await axios({
      url: "/payments/complete",
      method: "post",
      headers: { "Content-Type": "application/json" }, 
      data: { imp_uid: "...", merchant_uid: "..." },
    });
    switch (res.status) {
      case: "vbankIssued":
        // ê°€ìƒê³„ì¢Œ ë°œê¸‰ ì‹œ ë¡œì§
        break;
      case: "success":
        // ê²°ì œ ì„±ê³µ ì‹œ ë¡œì§
        break;
    }
  }
);
```

</Tab>
</Tabs>

ìƒˆë¡œìš´ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜ë˜ì–´ ê²°ì œê°€ ì§„í–‰ë˜ëŠ” ëŒ€ë¶€ë¶„ì˜ **ëª¨ë°”ì¼í™˜ê²½**ì—ì„œì˜ ê²°ì œëŠ” **m\_redirect\_url** íŒŒë¼ë¯¸í„°ë¡œ ì„¤ì •í•˜ì‹  ê°€ë§¹ì  **EndPoint URL ì—ì„œ ìµœì¢… ê²°ì œì™„ë£Œ ë©”ì„¸ì§€ ì²˜ë¦¬**ë¥¼ ì§„í–‰í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

<Hint style="info">
**error\_msg, error\_code ì •ì˜**

ê²°ì œ ì‹¤íŒ¨ ì‹œ ì‘ë‹µìœ¼ë¡œ ë‚´ë ¤ê°€ëŠ” í•´ë‹¹ íŒŒë¼ë¯¸í„°ëŠ” PGì‚¬ì—ì„œ ë‚´ë ¤ì¤€ ì˜¤ë¥˜ì½”ë“œì™€ ë©”ì„¸ì§€ë¥¼ 2ì°¨ ê°€ê³µì—†ì´ ê·¸ëŒ€ë¡œ ë‚´ë ¤ë“œë¦¬ê³  ìˆìŠµë‹ˆë‹¤.

</Hint>
