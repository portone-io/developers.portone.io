---
title: 파트너 정산 서비스 가이드 - alpha 버전
description: 파트너정산 서비스에 대한 간략한 소개
---

import Details from "~/components/gitbook/Details.astro";

import Figure from "~/components/gitbook/Figure.astro";
import partnerDiagram from "./_assets/partner-diagram.png";
import entityDiagram from "./_assets/entity-diagram.png";

## 파트너 정산이란 무엇인가요?

**매달 반복되는 모든 파트너(하위셀러) 정산을 한 번에 처리하는 원스톱 정산 솔루션**입니다.

마켓플레이스 및 플랫폼 사업자들이 간단한 api연동 및 포트원 관리자 콘솔을 통해서 간편하게 하위정산을 처리할 수 있습니다. 수많은 가맹점 인터뷰를 통해 기획된 해당 서비스는 모든 정산 케이스들을 융합할 수 있습니다. 항상 자체개발공수가 투입되던 하위 정산 시스템을 파트너 정산 서비스를 통해 간단하게 관리하세요.

## 사용 사례

파트너 정산 서비스를 통해 정산 금액을 계산 및 관리하고 정산주기에 맞춰서 이체 하실 수 있습니다.

주문건으로 부터 중개수수료, 부가세, 할인 분담금 등을 파트너 정산 서비스가 자동으로 계산하여 정산금액을 계산합니다.

- **커머스 마켓플레이스**
  - 셀러가 마켓플레이스에 입점하여 상품을 판매하는 경우, 셀러에게 중개 수수료 및 할인분담금 등을 정산하는 경우
  - 마케팅 채널 비용, 풀필먼트 와 같이 추가로 발생하는 비용을 정산하는 경우
- **온라인 강의 플랫폼**
  - 크리에이터와 Revenue Share를 통해 주문건 마다 수익을 나누는 경우
- **배달 플랫폼**
  - 앰에서 이루어진 주문건당 배달업체 및 식당과 수수료를 정산하는 경우
- **중고거래 플랫폼**
  - 앱에서 이루어진 거래건당 중개 수수료를 정산하고
- **매입 커머스**
  - 주기적으로 매입하는 상품에 대한 정산을 처리하는 경우

## 작동원리

파트너 정산은 간단한 api연동 과 관리자 콘솔 등록을 통해 파트너 (하위 셀러) 정산을 자동화 하는 서비스 입니다. 전반적인 작동 원리는 다음과 같습니다.

1. **유저는 api/콘솔을 통해 파트너와 유저간의 계약을 등록합니다.**

   1-a 중개 수수료, 정산 주기, 추가 수수료 등을 등록합니다.

---

2. **유저는 api/콘솔을 통해 파트너(하위셀러)를 등록합니다.**

   2-a 파트너 아이디, 파트너 이름, 파트너 계좌 등을 등록합니다.

   2-b 파트너에게 기본으로 적용될 계약을 등록합니다.

---

3. **유저가 정산 api를 통해 결제 아이디와 할인금액, 상품정보와 같은 주문정보, 그리고 해당 주문건의 재화 및 서비스를 제공한 파트너 아이디를 전달합니다.**

   3-a 포트원 결제 sdk/api 처리 이후 정산 api를 통해 결제 아이디, 할인금액, 주문정보, 파트너 아이디를 전달합니다.

---

4. **포트원은 정산api를 통해 받은 정보를 기반으로 주문금액으로 부터 정산금액을 계산합니다.**

   2-a. 파트너 아이디 를 통해 정산되어야할 파트너를 찾습니다.

   2-b. 해당 파트너에 등록된 기본계약 아이디를 통해 중개수수료를 계산하고 정산주기를 통해 해당 정산건의 정산일을 계산합니다.

   2-c. 할인금액을 통해 결제금액과 합하여 주문금액을 계산합니다.

   2-d. 할인아이디를 통해 할인금액의 파트너 분담금을 계산합니다.

   2-e. 추가수수료 아이디를 통해 해당 주문건에 적용되어야할 추가 과금을 계산합니다.

---

5. **포트원은 파트너별로 누적된 정산금액에 대해서 정산일에 맞춰서 이체되어야할 금액을 계산합니다.**

간단한 다이어그램으로 전반적인 작동 방식을 확인할 수 있습니다.

<Figure src={partnerDiagram} />

## 파트너정산 API 설명

파트너정산 Public API 는 파트너의 정보를 관리하는 Partner, 계약 및 정산 정보를 관리하는 Settlement Policy, 주문 및 수동 정산정보를 등록하는 Transfer, 이체를 관리하는 Payout 으로 구성되어 있습니다.

**Partner**

- 파트너 정보를 관리하는 API 입니다.

**Settlement Policy/Contract**

- 중개 수수료 및 정산주기와 같은 파트너와 유저간의 정산 계약을 관리하는 API 입니다.

**Settlement Policy/Discount**

- 할인유형과 그에 대한 파트너 분담금을 관리하는 API 입니다그

**Settlement Policy/Additional Fee**

- 주문건에 추가로 부과되는 수수료를 관리하는 API 입니다.

**Transfer/order**

- 주문건에 대한 정산정보를 등록하는 API 입니다. 주문 취소에 대응되는 음수 정산도 가능합니다.

**Transfer/manual**

- 주문건 외에 수동으로 정산해야할 정산건을 등록하는 API 입니다.

**Payout**

- 파트너에게 이체할 정산금액을 조회합니다.

### API 객체 다이어그램

<Figure src={entityDiagram} />

## 파트너정산 서비스의 장점

**포트원 결제 서비스에 이어서 정산까지 손쉽게 처리**

**간단한 정산 api를 통해 실시간 정산 데이터 등록 및 관리**

- 주문정보를 통한 손쉬운 정산 관리

- 주문건 외에 처리해야할 정산건 등록

**단순 중개수수료 뿐만 아니라 여러유형의 파트너 과금모델 지원**

- 쿠폰 및 포인트에 적용되는 할인 분담율

- 마켓팅 분담, 풀필먼트 수수료와 같은 주문별 추가 수수료

- PG사로부터 부과되는 결제수수료 파트너 부담 전이

- 직접 정산 수식 편집

**뱅킹앱 엑셀 다운로드 및 지급대행을 통한 이체 자동화**

---
