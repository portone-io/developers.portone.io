<script>
  import { effect } from "@preact/signals";

  import { sidebarOpenSignal } from "~/state/sidebar";

  const leftSidebar = document.getElementById("left-sidebar")!;
  effect(() => {
    const sidebarOpen = sidebarOpenSignal.value;
    const div = leftSidebar.children[0] as HTMLDivElement;
    div.style.transform = sidebarOpen ? "none" : "translateX(-100%)";
  });
</script>
<aside
  id="left-sidebar"
  class="pointer-events-none absolute z-10 w-65 shrink-0 text-slate-700 md:relative md:block"
>
  <div
    style="transform:translateX(-100%)"
    class="pointer-events-auto fixed h-[calc(100vh-3.5rem)] w-inherit flex flex-col border-r bg-white pl-1 transition-transform md:!transform-none"
  >
    <slot />
  </div>
</aside>
